{% extends 'landing/base.html' %}
{% load static %}

{% block content %}
<div class="container my-5">
    <div class="full d-xl-none mt-5">
        <h1 class="mb-3 pt-5 pt-sm-5 pt-md-5 pt-xl-4 custom-text-color">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ –º–µ–Ω—å—à–µ XL -->
    </div>    
    <div class="row">
        
        <div class="col-md-6 mt-4">
            <h4 class="custom-text-color">–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</h4>
            <p class="custom-text-color">–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ ‚Äì –º—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏!</p>
            <form method="post" action="{% url 'contacts' %}">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="name" class="form-label custom-text-color">–í–∞—à–µ –∏–º—è</label>
                    <input type="text" class="form-control bg-dark text-white" id="name" name="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label custom-text-color">–í–∞—à Email</label>
                    <input type="email" class="form-control bg-dark text-white" id="email" name="email" placeholder="–í–≤–µ–¥–∏—Ç–µ email" required>
                </div>
                <div class="mb-3">
                    <label for="message" class="form-label custom-text-color">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                    <textarea class="form-control bg-dark text-white" id="message" name="message" rows="5" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" required></textarea>
                </div>
                    <div class="button_user pt-4 d-flex justify-content-center">
                        <button type="submit" class="custom-button custom-text-color bg_dark">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </div>
                        <div class="mb-3">
                            <label class="form-label">–ü—Ä–æ–≤–µ—Ä–∫–∞</label>
                            <div id="captcha-container" class="smart-captcha" data-sitekey="{{ settings.YANDEX_CAPTCHA_CLIENT_KEY }}"
                                                                            data-callback="smartCaptchaCallback"></div>
                        
                            <input type="hidden" name="captcha" id="id_captcha">
                            {{ form.captcha.errors }}
                        </div>
            </form>
        </div>

        
        <div class="col-md-6 mt-4">
            <h2 class="custom-text-color">–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h2>
            <ul class="list-unstyled custom-text-color">
                <li class="mb-2">
                    <i class="bi bi-geo-alt-fill me-2"></i>
                    –ê–¥—Ä–µ—Å: –≥. –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫
                </li>
                <li class="mb-2">
                    <i class="bi bi-telephone-fill me-2"></i>
                    –¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+7 923 328 11 88" class="text-decoration-none custom-text-color">+7 923 328 11 88</a>
                </li>
                <li class="mb-2">
                    <i class="bi bi-envelope-fill me-2"></i>
                    Email: <a href="mailto:pochta@mail.ru" class="text-decoration-none custom-text-color">aagubanoff@yandex.ru</a>
                </li>
            </ul>
            
            <div class="mt-4 bg_dark">
                <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d43046.88392031994!2d92.8147268369136!3d56.01056423396747!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5ca3c32951e0b9a5%3A0x1d84700f3199e5e7!2z0JrQsNC80L7Qu9Cw0L3QsCDQotCw0YDQvtCz0L4sINCa0LjQtdCy0YHQutC-0LU!5e0!3m2!1sru!2sru!4v1718633246255!5m2!1sru!2sru"
                  width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>
    </div>
</div>
    {% include 'includes/footer.html' %}
    <script>
    window.smartCaptchaCallback = function(token) {
        console.log("üìå –ö–∞–ø—á–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞, —Ç–æ–∫–µ–Ω:", token);
        document.getElementById('id_captcha').value = token;
    };

    document.querySelector('form').addEventListener('submit', function(event) {
        const captchaToken = document.getElementById('id_captcha').value;
        if (!captchaToken) {
            event.preventDefault();
            alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–π–¥–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞–ø—á–∏.');
        }
        // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
        const submitButton = this.querySelector('button[type="submit"]');
        submitButton.disabled = true;
        submitButton.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
    });
</script>
<script src="https://smartcaptcha.yandexcloud.net/captcha.js" defer></script>
{% endblock %}

{% include 'includes/footer.html' %}
